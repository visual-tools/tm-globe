<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Use correct character set. -->
  <meta charset="utf-8">
  <!-- Tell IE to use the latest, best version. -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- Make the application on mobile take up the full browser screen and disable user scaling. -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
  <title>TM Forum - Accelerating Industry Transformation Through Collaboration</title>
  <link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico" />
  <script src="../Build/Cesium/Cesium.js"></script>
  <style>
      @import url(../Build/Cesium/Widgets/widgets.css);
      html, body, #cesiumContainer {
          position: relative; width: 100%; height: 100%; margin: 0; padding: 0; overflow: hidden;
      }
      #logoContainer {
          position: absolute; right: 35px; bottom: 0px; height: 60px;
      }
      #titleContainer {
          position: absolute; left: 10px; top: 10px; color: white; font-family: "helvetica";
      }
  </style>
  <link rel="stylesheet" type="text/css" href="css/tmforum.globe.visual.tools.css">
</head>
<body>
  <div id="cesiumContainer"></div>
  <div id="titleContainer">
    <H2 style="margin-top: 0px; margin-bottom: 0px;">TMForum Smart City Forum</H2>
    <H3 style="margin-top: 5px;">Case Studies</H3>
  </div>
  <div id="creditContainer"></div>
  <div id="logoContainer">
    <a href="https://www.tmforum.org"><img src="images/tmforum_logo.png" title="TM Forum" style="height: 100%;" /></a>
  </div>
  <script>
    // Set the default camera location for the viewer - somewhere in the middle east
    Cesium.Camera.DEFAULT_VIEW_FACTOR = 1;
    Cesium.Camera.DEFAULT_VIEW_RECTANGLE = Cesium.Rectangle.fromDegrees(30,10,50,30);
    
    // Create a Cesium viewer with an Open Street Maps map on it
    //   the open street maps map has maximum level detail of 4, which seems to be all the countries and some major cities
    var viewer = new Cesium.Viewer('cesiumContainer', {
        imageryProvider : new Cesium.createOpenStreetMapImageryProvider
            ( { "maximumLevel": 4,
              },
            ),
        creditContainer: 'creditContainer',
        baseLayerPicker : false,
    });

    
    var scene = viewer.scene;
    scene.screenSpaceCameraController.enableTilt = false;
    // scene.screenSpaceCameraController.enableRotate = false;
    scene.screenSpaceCameraController.enableLook = false;

    scene.screenSpaceCameraController._minimumZoomRate = 3000000
    scene.screenSpaceCameraController.minimumZoomDistance=2000000;

    // viewer.camera.camera.moveEnd.addEventListener(function() {
    //     viewChanged.style.display = 'none';
    // });

    // Fix the container infoBox Iframe will not let javascript run in embedded iframes
    var iframe = document.getElementsByClassName('cesium-infoBox-iframe')[0];
    iframe.setAttribute('sandbox', 'allow-same-origin allow-scripts allow-popups allow-forms'); 

    // create content data dictionary
    var contentByLocationDict = 
    { "Brisbane": { "latitude": -27.46794, "longditude": 153.02809,
                    "billboardImage": "images/countryNames/brisbane.png",
                    "video": '<iframe src="https://player.vimeo.com/video/182895881?title=0&byline=0&portrait=0"  width="100%" height="300px" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen sandbox="allow-same-origin allow-scripts allow-popups allow-forms"></iframe> <p><a href="https://vimeo.com/182895881">Krista Adams Ivw V1</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
                    "pdf": "BrisbaneCaseStudy.pdf",
                  },
      "Boston": { "latitude": 42.364506, "longditude": -71.038887,
                  "billboardImage": "images/countryNames/boston.png",
                  "video": '<iframe src="https://player.vimeo.com/video/183007848?title=0&byline=0&portrait=0" width="100%" height="300px" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen sandbox="allow-same-origin allow-scripts allow-popups allow-forms"></iframe> <p><a href="https://vimeo.com/183007848">Nigel Jacob Ivw V1</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
                  "pdf": "BostonCaseStudy.pdf",
                  },
    }

    var addContent = 
      ( countryName, latitude, longditude, video, pdf ) =>    
      { contentByLocationDict[countryName] = 
          { "latitude": latitude, "longditude": longditude, 
            // "billboardImage": "images/countryNames/"+countryName.toLowerCase(), 
            // "billboardImage": "images/countryNames/boston.png",
            "video":    video,
            "pdf":      pdf,
            "pdfURL":   "contentAssets/SmartCityCaseStudies/"+pdf
          }
    	}

      addContent
        ( "Atlanta",
          33.7679192,-84.5606908,
          '<iframe src="https://player.vimeo.com/video/140048801?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/140048801">Samir Saini Interview at Smart City Event</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
          "AtlantaCaseStudy.pdf",
        );
      addContent
        ( "City of Phoenix", 
          33.448376, -112.074036, 
          '<iframe src="https://player.vimeo.com/video/182562653?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/182562653">TM Forum Smart City 2016 - Karen Peters Ivw V1</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>)',
        );
      addContent
        ( "Bonn", 
          50.7374, 7.0982, 
          '<iframe src="https://player.vimeo.com/video/182895880?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/182895880">Goodarz Mahbobi Ivw V1</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
          "BonnCaseStudy.pdf",
        );
      addContent
        ( "Bristol",
          51.4686194,-2.7307936,
          '<iframe src="https://player.vimeo.com/video/139925846?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/139925846">Paul Wilson Interview at Smart City Event</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
          "BristolCaseStudy.pdf",
        );
      addContent
        ( "Buenos Aires",
          -34.6154611,-58.5733854,
          '<iframe src="https://player.vimeo.com/video/183142715?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/183142715">Martin Alalu Ivw V1</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
          "BuenosAiresCaseStudy.pdf",
        );
      addContent
        ( "Dheli-Mumbai Corridor",
         23.431749,75.563965,
         '<iframe src="https://player.vimeo.com/video/183142713?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/183142713">Alkesh Kumar Sharma Ivw V1</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
       );
      addContent
        ( "Dholera",
          22.2388351,72.1639649,
          "",
          "DholeraCaseStudy.pdf",
        );
      addContent
        ( "Dubai",
          25.0757073,54.9475419,
          '<iframe src="https://player.vimeo.com/video/183295147?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/183295147">Abdulla Ali AL-Madani Ivw V1</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
          "DubaiCaseStudy.pdf",
        );
      addContent
        ( "Indonesia",
          -6.175110,106.865039,
          "",
          "IndonesiaCaseStudy.pdf",
        );
      addContent
        ( "Ipswich",
          -27.695544, 152.685365,
          '<iframe src="https://player.vimeo.com/video/183023794?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/183023794">Paul Pissale Ivw V1</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
        );
      addContent
        ( "Johannesburg",
          -26.1713505,27.9699836,
          '<iframe src="https://player.vimeo.com/video/183295148?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/183295148">Tinashe Mushayanyama Ivw V1</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p',
          "JohannesburgCaseStudy.pdf",
        );
      addContent
        ( "Masdar",
          24.4264395,54.6017502,
          '<iframe src="https://player.vimeo.com/video/183142714?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/183142714">Anthony Mallows Ivw V1</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
          "MasdarCaseStudy.pdf",
        );
      addContent
        ( "Milton Keynes",
          52.0403, -0.6831,
          '<iframe src="https://player.vimeo.com/video/183142712?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/183142712">Alan Fletcher Ivw V1</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
          "MiltonKeynesCaseStudy.pdf",
        );
      addContent
        ( "Nusantara",
          -3.4560339,108.5172527,
          'https://vimeo.com/channels/1130523/page:2'
        );
      addContent
        ( "NYC, New York",
          40.6976701,-74.2598775,
          "",
          "NYCCaseStudy.pdf",
        );
      addContent
        ( "Pakistan",
          30.0679939,60.3256431,
          "",
          "PakistanCaseStudy.pdf",
        );
      addContent
        ( "Palo Alto",
          37.4257657,-122.2053908,
          '<iframe src="https://player.vimeo.com/video/182547765?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/182547765">TM Forum Smart Ciry 2016 - Jonathan Reichenthal Ivw V1</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
          "PaloAltoCaseStudy.pdf",
        );
      addContent
        ( "Singapore",
          1.3143394,103.70416,
          "",
          "SingaporeCaseStuday.pdf",
        );
      addContent
        ( "St-Quentine",
          47.5119159, -67.3921287,
          '<iframe src="https://player.vimeo.com/video/183125915?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/183125915">Frederique Macarez Ivw V1</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
        );
      
      addContent
        ( "Singapore",
          1.2800945, 103.85094909999998,
          '<iframe src="https://player.vimeo.com/video/183185396?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/183185396">Ken-Wei Chng Ivw V1</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
        );
      addContent
        ( "Tampere",
          61.49911, 23.78712,
          '<iframe src="https://player.vimeo.com/video/183177689?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/183177689">Jarkko Oksala Ivw V1</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
          "TampereCaseStuday.pdf",
        );
      addContent
        ( "Toronto",
          43.6570321,-79.6010444,
          "",
          "TorontoCaseStudy.pdf",
        );
      addContent
        ( "Vancouver",
          49.246292, -123.11622,
          '<iframe src="https://player.vimeo.com/video/183219589?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/183219589">Jessie Adcock Ivw V1</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>',
        );
      addContent
        ( "Yinchuan",
          38.46806, 106.27306,
          '<iframe src="https://player.vimeo.com/video/182547769?title=0&byline=0&portrait=0" width="100%" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/182547769">TM Forum Smart City 2016 - Guo Baichun without Subtitles</a> from <a href="https://vimeo.com/telcoprofessionals">TelcoProfessionals</a> on <a href="https://vimeo.com">Vimeo</a>.</p>'
        );


    // Iterate through the dictionary and create the interface components
    Object.keys(contentByLocationDict)
      .forEach
      ( (locationName, index) =>
        { var value = contentByLocationDict[locationName];
          var entityToAdd =
            { name: locationName,
              position : Cesium.Cartesian3.fromDegrees(value.longditude, value.latitude),
              viewFrom: new Cesium.ConstantPositionProperty(Cesium.Cartesian3(0,0, 30000)),
              // billboard :
              // { image : value.billboardImage,
              // },
              label: 
              { 
                      text: locationName, 
                      font: '28pt Helvetica', 
                      
                      scale: 1.0, 
                      
                      verticalOrigin: Cesium.VerticalOrigin.CENTER, 
                      pixelOffset: new Cesium.Cartesian2(0, -25),

                      style: Cesium.LabelStyle.FILL_AND_OUTLINE, 
                      fillColor: Cesium.Color.BLACK,
                      outlineColor: Cesium.Color.YELLOW,
                      
                      // translucencyByDistance: new Cesium.NearFarScalar(1.5e2, 1.0, 8.0e7, 0.0),
                      scaleByDistance: new Cesium.NearFarScalar(1.5e2, 1.5, 4.0e7, 0.0),
                      pixelOffsetScaleByDistance: new Cesium.NearFarScalar(1.5e2, 1.0, 4.0e7, 0.1),
              },
              point: 
              {
                      color: new Cesium.Color(1.0, 0.0, 0.0, 1.0),
                      pixelSize: 4
              },
              description: 
                '<link rel="stylesheet" type="text/css" href="css/tmforum.globe.visual.tools.css">' +
                ''
                ,
          }
          if (value.pdf)
          { entityToAdd.description += '<p class="description pdf"><a href="'+value.pdfURL+'" target="_blank" download >Download ' + locationName + ' PDF Case Study </a></p>';
            if (! value.video)
            { entityToAdd.description += '<p class="description video image"><img height="360px" width="90%" src="'  + value.pdfURL + '.jpg"></img></p>';
            }
          }  
          if (value.video)
          { entityToAdd.description += '<p class="description video">'  + value.video  +'</p>';
          }
          
          viewer.entities.add(entityToAdd); 
        }
      );

  //     <style>
  //     @import url(css/bucket.css);
  //     #toolbar {
  //         background: rgba(42, 42, 42, 0.8);
  //         padding: 4px;
  //         border-radius: 4px;
  //     }
  //     #toolbar input {
  //         vertical-align: middle;
  //         padding-top: 2px;
  //         padding-bottom: 2px;
  //     }
  //     #toolbar table tr {
  //         transform: translateY(0);
  //         transition: transform 0.4s ease-out;
  //     }
  //     #toolbar table tr.up {
  //         transform: translateY(33px);
  //         transition: none;
  //     }
  //     #toolbar table tr.down {
  //         transform: translateY(-33px);
  //         transition: none;
  //     }
  // </style>

  // <div id="toolbar"></div>

  //   // I assume that knockout (http://knockoutjs.com/index.html) understands this dictionary, since 
  //   //   no where in the App code is any of this explained
  //   var viewModel = {
  //     layers : [],
  //     baseLayers : [],
  //     upLayer : null,
  //     downLayer : null,
  //     selectedLayer : null,
  //     isSelectableLayer : function(layer) {
  //         return this.baseLayers.indexOf(layer) >= 0;
  //     },
  //     raise : function(layer, index) {
  //         imageryLayers.raise(layer);
  //         viewModel.upLayer = layer;
  //         viewModel.downLayer = viewModel.layers[Math.max(0, index - 1)];
  //         updateLayerList();
  //         window.setTimeout(function() { viewModel.upLayer = viewModel.downLayer = null; }, 10);
  //     },
  //     lower : function(layer, index) {
  //         imageryLayers.lower(layer);
  //         viewModel.upLayer = viewModel.layers[Math.min(viewModel.layers.length - 1, index + 1)];
  //         viewModel.downLayer = layer;
  //         updateLayerList();
  //         window.setTimeout(function() { viewModel.upLayer = viewModel.downLayer = null; }, 10);
  //     },
  //     canRaise : function(layerIndex) {
  //         return layerIndex > 0;
  //     },
  //     canLower : function(layerIndex) {
  //         return layerIndex >= 0 && layerIndex < imageryLayers.length - 1;
  //     }
  //   };
    
  //   var baseLayers = viewModel.baseLayers;

  //   Cesium.knockout.track(viewModel);

  //   function setupLayers() {
  //     // Create all the base layers that this example will support.
  //     // These base layers aren't really special.  It's possible to have multiple of them
  //     // enabled at once, just like the other layers, but it doesn't make much sense because
  //     // all of these layers cover the entire globe and are opaque.
  //     addBaseLayerOption('Boston', "");
  //     addBaseLayerOption('Brisbane', "");
  //   }

  //   function addBaseLayerOption(name, imageryProvider) {
  //       var layer = {};
        
  //       layer.name = name;
  //       baseLayers.push(layer);
  //   }

  // setupLayers();
  // // updateLayerList();

  // //Bind the viewModel to the DOM elements of the UI that call for it.
  // var toolbar = document.getElementById('toolbar');
  // Cesium.knockout.applyBindings(viewModel, toolbar);

  // Cesium.knockout.getObservable(viewModel, 'selectedLayer').subscribe(function(baseLayer) {
  //     // Handle changes to the drop-down base layer selector.
  //     var activeLayerIndex = 0;
  //     var numLayers = viewModel.layers.length;
  //     for (var i = 0; i < numLayers; ++i) {
  //         if (viewModel.isSelectableLayer(viewModel.layers[i])) {
  //             activeLayerIndex = i;
  //             break;
  //         }
  //     }
  //     var activeLayer = viewModel.layers[activeLayerIndex];
  //     var show = activeLayer.show;
  //     var alpha = activeLayer.alpha;
  //     imageryLayers.remove(activeLayer, false);
  //     imageryLayers.add(baseLayer, numLayers - activeLayerIndex - 1);
  //     baseLayer.show = show;
  //     baseLayer.alpha = alpha;
  //     // updateLayerList();
  // });


  </script>
</body>
</html>
